(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,n,t){},168:function(e,n,t){},169:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(38),i=t.n(o),c=t(29),s=t(8),l=t.n(s),u=t(15),m=t(18),d=t(19),f=t(21),p=t(20),h=t(22),b=t(171),k=t(173),g=t(172),v=t(23),y=t.n(v),w=t(4),x=t(9),E=t(40),j=t(5),O=t(81),S=t.n(O),_=y.a.initializeApp({apiKey:"AIzaSyBxNA6SLcXwuFl6aFX1uzC3p2HrEPgTlSI",authDomain:"news-flash-5755b.firebaseapp.com",databaseURL:"https://news-flash-5755b.firebaseio.com",projectId:"news-flash-5755b",messagingSenderId:"240084664713"}),B=y.a.database(_),N=S.a.createClass(B);function z(){var e=Object(w.a)(["\n  background: #24292e;\n  color: white;\n\n  :hover {\n    background: white;\n    color: #24292e;\n  }\n"]);return z=function(){return e},e}function T(){var e=Object(w.a)(["\n  background: #1da1f2;\n  color: white;\n\n  :hover {\n    background: white;\n    color: #1da1f2;\n  }\n"]);return T=function(){return e},e}function C(){var e=Object(w.a)(["\n  background: #db4437;\n  color: white;\n\n  :hover {\n    background: white;\n    color: #db4437;\n  }\n"]);return C=function(){return e},e}function W(){var e=Object(w.a)(["\n  background: #3b5998;\n  color: #f7f7f7;\n\n  :hover {\n    background: #f7f7f7;\n    color: #3b5998;\n  }\n"]);return W=function(){return e},e}function L(){var e=Object(w.a)(["\n  padding: 0.75em;\n  margin-bottom: 0.5em;\n  font-size: 1em;\n  border-radius: 4px;\n  width: 250px;\n  text-align: left;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  transition: all 0.3s ease-out;\n\n  .text {\n    padding-left: 1.5em;\n  }\n"]);return L=function(){return e},e}function R(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: 1px lightgrey solid;\n  border-radius: 3px;\n  width: 300px;\n  height: 75vh;\n  margin: 1em auto;\n  box-shadow: 2px 4px 4px rgba(0, 0, 0, 0.2);\n"]);return R=function(){return e},e}var I=j.a.div(R()),M=j.a.button(L()),A=Object(j.a)(M)(W()),J=Object(j.a)(M)(C()),D=Object(j.a)(M)(T()),F=Object(j.a)(M)(z()),U=function(e){function n(){var e,t;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(f.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).authHandler=function(){var e=Object(u.a)(l.a.mark(function e(n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("users/".concat(n.user.uid,"/name"),{data:n.user.displayName});case 2:localStorage.setItem("nf-user",JSON.stringify(n.user)),t.props.retrieveUserInfo(n.user),t.props.history.push("/");case 5:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),t.authenticate=function(e){var n=new(y.a.auth["".concat(e,"AuthProvider")]);_.auth().signInWithPopup(n).then(t.authHandler)},t}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;y.a.auth().onAuthStateChanged(function(n){n&&e.authHandler({user:n})})}},{key:"render",value:function(){var e=this;return r.a.createElement(I,{className:"login"},r.a.createElement("h2",null,"Log In"),r.a.createElement("p",null,"Sign in using existing profiles"),r.a.createElement(A,{onClick:function(){return e.authenticate("Facebook")}},r.a.createElement(x.a,{icon:E.a}),r.a.createElement("span",{className:"text"},"Continue with Facebook")),r.a.createElement(J,{onClick:function(){return e.authenticate("Google")}},r.a.createElement(x.a,{icon:E.c}),r.a.createElement("span",{className:"text"},"Continue with Google")),r.a.createElement(D,{onClick:function(){return e.authenticate("Twitter")}},r.a.createElement(x.a,{icon:E.d}),r.a.createElement("span",{className:"text"},"Continue with Twitter")),r.a.createElement(F,{onClick:function(){return e.authenticate("Github")}},r.a.createElement(x.a,{icon:E.b}),r.a.createElement("span",{className:"text"},"Continue with Github")))}}]),n}(r.a.Component),Q=t(170),P=t(6);function X(){var e=Object(w.a)(["\n  background: black;\n  color: white;\n  padding: 0.75em;\n  margin: 0.25em 1em;\n  font-size: 0.75em;\n  border-radius: 4px;\n  text-align: center;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  transition: all 0.3s ease-out;\n\n  :hover {\n    background: white;\n    color: black;\n  }\n"]);return X=function(){return e},e}function H(){var e=Object(w.a)(["\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin: 0.25em 1em;\n"]);return H=function(){return e},e}function G(){var e=Object(w.a)(["\n  font-family: 'Noto Serif', serif;\n  font-size: 1em;\n  margin: 0;\n  color: grey;\n\n  @media (max-width: 400px) {\n    font-size: 0.9em;\n  }\n\n  a {\n    text-decoration: none;\n    font-weight: bold;\n    color: black;\n    transition: all 0.3s;\n  }\n\n  a:hover {\n    color: #2a78f7;\n  }\n"]);return G=function(){return e},e}function Y(){var e=Object(w.a)(["\n  font-family: 'Bungee Shade', cursive;\n  font-size: 2.4em;\n  margin: 0;\n  color: black;\n  text-decoration: none;\n  transition: all 0.3s;\n\n  :hover {\n    color: #2a78f7;\n  }\n\n  @media (max-width: 400px) {\n    font-size: 2.1em;\n  }\n"]);return Y=function(){return e},e}function q(){var e=Object(w.a)(["\n  position: absolute;\n  right: ",";\n  top: 5px;\n  font-size: 0.9em;\n  font-weight: bold;\n"]);return q=function(){return e},e}function K(){var e=Object(w.a)(["\n  display: grid;\n  grid-template-columns: 1fr 2fr 1fr;\n  grid-template-areas: 'userBookmark title button';\n  align-items: center;\n\n  .userBookmark {\n    grid-area: userBookmark;\n    justify-self: left;\n    display: flex;\n    align-items: center;\n  }\n\n  .userBookmark .bookmark {\n    position: relative;\n  }\n\n  .userBookmark .bookmark a {\n    color: black;\n  }\n\n  .userBookmark .bookmark .bookmark__icon {\n    font-size: 36px;\n    color: #f4aa42;\n  }\n\n  .title {\n    grid-area: title;\n    justify-self: center;\n  }\n\n  .title a {\n    text-decoration: none;\n  }\n\n  .button {\n    grid-area: button;\n    justify-self: right;\n  }\n\n  @media (max-width: 600px) {\n    grid-template-columns: 1fr 1fr;\n    grid-template-areas:\n      'title title'\n      'userBookmark button';\n\n    .userBookmark {\n      justify-self: center;\n    }\n\n    .button {\n      justify-self: center;\n    }\n  }\n"]);return K=function(){return e},e}var V=j.a.div(K()),Z=j.a.span(q(),function(e){return e.length>9?"5px":"9px"}),$=j.a.h1(Y()),ee=j.a.p(G()),ne=j.a.img(H()),te=j.a.button(X()),ae=function(e){var n=e.bookmarks,t=e.user,a=e.logout;return r.a.createElement(V,{user:t},r.a.createElement("div",{className:"userBookmark"},t?r.a.createElement(ne,{className:"userImage",src:t?t.photoURL:""}):null,r.a.createElement("div",{className:"bookmark"},r.a.createElement(Q.a,{to:"/bookmarks"},r.a.createElement(x.a,{icon:P.e,className:"bookmark__icon",style:{marginLeft:t?"0":"1em"}}),r.a.createElement(Z,{className:"bookmark__count",length:n.length},n.length)))),r.a.createElement("div",{className:"title"},r.a.createElement(Q.a,{to:"/"},r.a.createElement($,null,"News Flash")),r.a.createElement(ee,null,"Powered by"," ",r.a.createElement("a",{href:"https://developer.nytimes.com/",target:"_blank",rel:"noopener noreferrer"},"The New York Times API"))),r.a.createElement("div",{className:"button"},t?r.a.createElement(te,{onClick:a},"Log Out"):r.a.createElement(Q.a,{to:"/login"},r.a.createElement(te,null,"Log In"))))};function re(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 0.5em 0;\n  border-top: 1px grey solid;\n\n  img {\n    display: block;\n    width: 100%;\n  }\n"]);return re=function(){return e},e}var oe=j.a.footer(re()),ie=function(){return r.a.createElement(oe,null,r.a.createElement("a",{href:"https://developer.nytimes.com/"},r.a.createElement("img",{src:"/images/nyt-data-logo.png",alt:"New York Times logo"})))},ce=t(86),se=t(84),le=t(39),ue=[{searchTerm:"national",label:"National",icon:"flag"},{searchTerm:"arts",label:"Arts",icon:"palette"},{searchTerm:"food",label:"Food",icon:"utensils"},{searchTerm:"politics",label:"Politics",icon:"landmark"},{searchTerm:"sports",label:"Sports",icon:"football-ball"},{searchTerm:"business",label:"Business",icon:"money-bill-alt"},{searchTerm:"world",label:"World",icon:"globe"},{searchTerm:"opinion",label:"Opinion",icon:"comments"},{searchTerm:"health",label:"Health",icon:"user-md"},{searchTerm:"books",label:"Books",icon:"book-reader"},{searchTerm:"fashion",label:"Fashion",icon:"shopping-bag"},{searchTerm:"travel",label:"Travel",icon:"plane"},{searchTerm:"home",label:"Home",icon:"home"},{searchTerm:"magazine",label:"Magazine",icon:"book-open"},{searchTerm:"movies",label:"Movies",icon:"video"},{searchTerm:"science",label:"Science",icon:"flask"},{searchTerm:"technology",label:"Technology",icon:"mobile-alt"},{searchTerm:"upshot",label:"Upshot",icon:"arrow-alt-circle-up"},{searchTerm:"realestate",label:"Real Estate",icon:"city"},{searchTerm:"sundayreview",label:"Sunday Review",icon:"search"},{searchTerm:"theater",label:"Theater",icon:"theater-masks"},{searchTerm:"obituaries",label:"Obituaries",icon:"skull-crossbones"},{searchTerm:"nyregion",label:"NY Region",icon:"apple-alt"},{searchTerm:"automobiles",label:"Automobiles",icon:"car"}];t(166);le.b.add(P.i,P.q,P.y,P.n,P.k,P.p,P.l,P.h,P.x,P.d,P.t,P.r,P.m,P.c,P.z,P.j,P.o,P.b,P.g,P.s,P.v,P.u,P.a,P.f);var me=function(e){function n(){var e,t;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(f.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={menuOpen:!1},t.handleClick=function(){t.closeMenu()},t.handleStateChange=function(e){t.setState({menuOpen:e.isOpen})},t.closeMenu=function(){t.setState({menuOpen:!1})},t}return Object(h.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){var e=this,n=Object(c.a)(ue).sort(function(e,n){return e.searchTerm<n.searchTerm?-1:1}).map(function(n){var t=Object(ce.a)({},n),a=t.searchTerm,o=t.label,i=t.icon;return r.a.createElement(Q.a,{key:o,onClick:function(){return e.handleClick()},to:"/topstories/".concat(a)},r.a.createElement("div",{style:{padding:"1em"}},r.a.createElement(x.a,{icon:i,fixedWidth:!0,sz:"lg"}),r.a.createElement("span",{style:{marginLeft:"1.25em"}},o)))});return r.a.createElement(se.slide,{isOpen:this.state.menuOpen,onStateChange:function(n){return e.handleStateChange(n)},width:"250px"},n)}}]),n}(r.a.Component);function de(){var e=Object(w.a)(["\n  margin-right: ",";\n"]);return de=function(){return e},e}function fe(){var e=Object(w.a)(["\n  font-size: 0.75em;\n  font-weight: bold;\n  padding: 0;\n  margin: 0;\n  text-align: left;\n\n  a {\n    color: black;\n    text-decoration: none;\n    transition: all 0.3s;\n  }\n\n  a:hover {\n    color: #2a78f7;\n  }\n\n  @media (max-width: 400px) {\n    visibility: hidden;\n  }\n"]);return fe=function(){return e},e}function pe(){var e=Object(w.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  position: relative;\n  bottom: 8px;\n"]);return pe=function(){return e},e}function he(){var e=Object(w.a)(["\n  padding: 0.25em 0;\n  margin: 0.5em 0;\n  border: 1px lightgrey solid;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\n"]);return he=function(){return e},e}var be=j.a.nav(he()),ke=j.a.ul(pe()),ge=j.a.li(fe()),ve=j.a.div(de(),function(e){return e.windowWidth>500?"2em":"0em"}),ye=function(e){var n=e.windowWidth,t=Math.floor(n/70)-2,a=ue.slice(0,t).map(function(e){return r.a.createElement(ge,{key:e.searchTerm,windowWidth:n},r.a.createElement(Q.a,{to:"/topstories/".concat(e.searchTerm)},e.label))});return r.a.createElement(be,null,r.a.createElement(me,null),r.a.createElement(ke,null,r.a.createElement(ve,{windowWidth:n}),a))};function we(e){var n=Date.now()-Date.parse(e);return Math.ceil(n/36e5)}function xe(){var e=Object(w.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-areas:\n    'header '\n    'image'\n    'byline '\n    'title '\n    'abstract';\n  border-bottom: 1px lightgrey solid;\n  padding: 0 0.5em;\n\n  .header {\n    grid-area: header;\n    align-self: start;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0.5em 0;\n  }\n\n  .header .header__icon {\n    font-size: 1.25em;\n    cursor: pointer;\n  }\n\n  .header .header__date {\n    font-size: 0.75em;\n    color: #666;\n  }\n\n  .byline {\n    grid-area: byline;\n    color: #666;\n    font-size: 0.75em;\n    margin: 0;\n    padding-top: 0.25em;\n  }\n\n  .title {\n    grid-area: title;\n    font-weight: bold;\n    font-size: 1em;\n    text-decoration: none;\n    color: black;\n    margin: 0;\n    padding: 0.5em 0;\n    transition: all 0.3s;\n  }\n\n  .title:hover {\n    color: #2a78f7;\n  }\n\n  .abstract {\n    grid-area: abstract;\n    font-size: 0.875em;\n    margin: 0;\n    padding-bottom: 0.5em;\n    color: #666;\n  }\n\n  img {\n    grid-area: image;\n    display: block;\n    width: 100%;\n    margin: 0;\n    align-self: start;\n  }\n"]);return xe=function(){return e},e}var Ee=j.a.div(xe()),je=function(e){var n=e.story,t=e.storyType,a=e.handleBookmarkClick,o=e.bookmarks,i="",c=we(n.published_date);if(c>24){var s=Math.ceil(c/24);i=s>1?"".concat(s," days ago"):"1 day ago"}else i=c>1?"".concat(c," hours ago"):"1 hour ago";var l=o.find(function(e){return e.url===n.url});return r.a.createElement(Ee,null,r.a.createElement("div",{className:"header"},r.a.createElement(x.a,{className:"header__icon",icon:P.e,color:l?"#f4aa42":"grey",onClick:function(){return a(n)}}),r.a.createElement("span",{className:"header__date"},i)),"topStory"===t?r.a.createElement("img",{src:n.multimedia[3]?n.multimedia[3].url:"",alt:""}):r.a.createElement("img",{src:n.media[0]["media-metadata"][1].url,alt:""}),r.a.createElement("p",{className:"byline"},n.byline.replace(/by/gi,"").trim()),r.a.createElement("a",{className:"title",href:n.url,target:"_blank",rel:"noopener noreferrer"},n.title),r.a.createElement("p",{className:"abstract"},n.abstract))};function Oe(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  border-bottom: 1px lightgrey solid;\n  padding: 0 0.5em;\n\n  > p,\n  a {\n    margin: 0;\n  }\n\n  .byline {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    font-size: 0.75em;\n  }\n\n  .byline .byline__icon {\n    font-size: 1.5em;\n    cursor: pointer;\n  }\n\n  .byline p.byline__author {\n    color: #666;\n  }\n\n  .byline p.byline__date {\n    color: #666;\n  }\n\n  a.title {\n    font-size: 1em;\n    text-decoration: none;\n    color: black\n    font-weight: bold;\n    text-align: center;\n    padding-bottom: 0.5em;\n    transition: all 0.3s;\n  }\n\n  a.title:hover {\n    color: #2a78f7;\n  }\n\n  p.abstract {\n    font-size: 0.875em;\n    padding-bottom: 0.5em;\n  }\n\n  a.url {\n    font-size: 0.7em;\n    text-align: center;\n    margin-top: auto;\n    padding: 0.5em 0em;\n    justify-self: flex-end;\n    color: #666;\n    text-decoration: none;\n    transition: all 0.3s;\n    cursor: pointer;\n  }\n  a.url:hover {\n    color: #2a78f7;\n  }\n\n.imageContainer {\n  overflow: hidden;\n}\n\n.imageContainer img {\n    display: block;\n    width: 100%;\n    margin: 0;\n    transition: all 0.3s ease-in;\n}\n\n.imageContainer:hover img {\n  border-radius: 5px;\n  transform: scale(1.25);\n  filter: grayscale(25%);\n}\n\n"]);return Oe=function(){return e},e}var Se=j.a.div(Oe()),_e=function(e){var n=e.movie,t=e.handleBookmarkClick,a=e.bookmarks,o="",i=we(n.publication_date);if(i>24){var c=Math.ceil(i/24);o=c>1?"".concat(c," days ago"):"1 day ago"}else o=i>1?"".concat(i," hours ago"):"1 hour ago";var s=a.find(function(e){return e.url===n.link.url});return r.a.createElement(Se,null,r.a.createElement("a",{className:"title",href:n.link.url,target:"_blank",rel:"noopener noreferrer"},n.display_title),r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{src:n.multimedia.src,alt:""})),r.a.createElement("div",{className:"byline"},r.a.createElement(x.a,{className:"byline__icon",icon:P.e,color:s?"#f4aa42":"grey",onClick:function(){return t(n)}}),r.a.createElement("p",{className:"byline__author"},n.byline.replace(/by/gi,"").trim()),r.a.createElement("p",{className:"byline__date"},o)),r.a.createElement("p",{className:"abstract"},n.summary_short))};function Be(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  letter-spacing: 0.1px;\n  padding: 0.5em 0.75em;\n\n  > p,\n  a {\n    margin: 0;\n    //padding: 0.35em 0.35em;\n  }\n  p.rank {\n    font-size: 0.85em;\n    font-weight: bold;\n    padding: 0.5em 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: baseline;\n    width: 100%;\n  }\n\n  img {\n    display: block;\n    width: 175px;\n    margin: 0;\n  }\n"]);return Be=function(){return e},e}var Ne=j.a.div(Be()),ze=function(e){var n=e.book;return r.a.createElement(Ne,null,r.a.createElement("p",{className:"rank"},r.a.createElement("span",{style:{color:"#fff4a8",fontSize:"1.35em"}},"#",n.rank),r.a.createElement("span",{style:{fontSize:"0.85em",color:"#ccc"}},n.weeks_on_list," ",n.weeks_on_list>1?"weeks":"week"," on list")),r.a.createElement("img",{src:n.book_image,alt:""}))};function Te(){var e=Object(w.a)(["\n  display: flex\n  align-items: flex-start;\n  background: black;\n  overflow: auto;\n"]);return Te=function(){return e},e}function Ce(){var e=Object(w.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 300px);\n  grid-gap: 1em;\n  justify-content: center;\n"]);return Ce=function(){return e},e}var We=j.a.div(Ce()),Le=j.a.div(Te()),Re=function(e){var n=e.windowWidth,t=e.popularStories,a=e.movieReviews,o=e.nonfictionBooks,i=e.fictionBooks,c=e.handleBookmarkClick,s=e.bookmarks,l=t.slice(0,8).map(function(e){return r.a.createElement(je,{key:e.title,story:e,storyType:"mostPopular",handleBookmarkClick:c,bookmarks:s})}),u=a.slice(0,4).map(function(e){return r.a.createElement(_e,{key:e.display_title,movie:e,handleBookmarkClick:c,bookmarks:s})}),m=o.slice(0,10).map(function(e){return r.a.createElement(ze,{key:e.title,book:e})}),d=i.slice(0,10).map(function(e){return r.a.createElement(ze,{key:e.title,book:e})});return r.a.createElement("div",null,r.a.createElement(ye,{windowWidth:n}),r.a.createElement("section",{className:"popular"},r.a.createElement("h2",{style:{textAlign:"center"}},"Top Stories This Week"),r.a.createElement(We,null,l)),r.a.createElement("section",{className:"movies"},r.a.createElement("h2",{style:{textAlign:"center"}},"Latest Film Reviews"),r.a.createElement(We,null,u)),r.a.createElement("section",{className:"nonfictionBooks"},r.a.createElement("h2",{style:{textAlign:"center"}},"Best Sellers: Non-Fiction"),r.a.createElement(Le,null,m)),r.a.createElement("section",{className:"fictionBooks"},r.a.createElement("h2",{style:{textAlign:"center"}},"Best Sellers: Fiction"),r.a.createElement(Le,null,d)))};function Ie(){var e=Object(w.a)(["\n  border: 16px solid #f3f3f3;\n  border-top: 16px solid black;\n  border-radius: 50%;\n  width: 120px;\n  height: 120px;\n  animation: "," 2s linear infinite;\n"]);return Ie=function(){return e},e}function Me(){var e=Object(w.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n\n"]);return Me=function(){return e},e}function Ae(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 50vh;\n"]);return Ae=function(){return e},e}var Je=j.a.div(Ae()),De=Object(j.b)(Me()),Fe=j.a.div(Ie(),De),Ue=function(e){var n=e.text;return r.a.createElement(Je,null,r.a.createElement(Fe,null),r.a.createElement("p",null,n))};function Qe(){var e=Object(w.a)(["\n  background: black;\n  color: white;\n  padding: 0.75em;\n  margin: 1em 1em;\n  font-size: 0.75em;\n  border-radius: 4px;\n  text-align: center;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  transition: all 0.3s ease-out;\n\n  :hover {\n    background: white;\n    color: black;\n  }\n"]);return Qe=function(){return e},e}function Pe(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n"]);return Pe=function(){return e},e}function Xe(){var e=Object(w.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 300px);\n  grid-gap: 1em;\n  justify-content: center;\n"]);return Xe=function(){return e},e}function He(){var e=Object(w.a)(["\n  text-align: center;\n  text-shadow: 2px 2px rgba(0, 0, 0, 0.2);\n  font-size: 2em;\n"]);return He=function(){return e},e}var Ge=j.a.h2(He()),Ye=j.a.div(Xe()),qe=j.a.div(Pe()),Ke=j.a.button(Qe()),Ve=function(e){function n(){var e,t;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(f.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={section:"",label:"",stories:[],moreStories:[],isLoading:!1,showMore:!0},t.fetchStories=function(){var e=Object(u.a)(l.a.mark(function e(n){var a,r,o,i,c,s,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ue.filter(function(e){return e.searchTerm===n})[0].label,t.setState({section:n,label:a,isLoading:!0}),r="https://api.nytimes.com/svc/topstories/v2/".concat(n,".json?api-key=").concat("xRrXtfd4QhQmbwbp9eyBwOiDyLkzgJJE"),e.next=5,fetch(r);case 5:return o=e.sent,e.next=8,o.json();case 8:return i=e.sent,e.next=11,i.results;case 11:c=e.sent,s=c.slice(0,10),u=c.slice(10),t.setState({stories:s,moreStories:u,isLoading:!1});case 15:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),t.showMoreStories=function(){t.setState(function(e){return{showMore:!1,stories:[].concat(Object(c.a)(e.stories),Object(c.a)(e.moreStories))}})},t}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.sectionId;this.fetchStories(e)}},{key:"componentDidUpdate",value:function(e){var n=e.match.params.sectionId,t=this.props.match.params.sectionId;n!==t&&(this.fetchStories(t),this.setState({showMore:!0}))}},{key:"render",value:function(){var e=this,n=this.state.stories.map(function(n){return r.a.createElement(je,{key:n.title,story:n,storyType:"topStory",handleBookmarkClick:e.props.handleBookmarkClick,bookmarks:e.props.bookmarks})});return r.a.createElement("div",null,r.a.createElement(ye,{windowWidth:this.props.windowWidth}),r.a.createElement(Ge,null,this.state.label.toUpperCase()),this.state.isLoading?r.a.createElement(Ue,{text:"Loading articles"}):r.a.createElement(Ye,null,n),!this.state.isLoading&&this.state.showMore?r.a.createElement(qe,null,r.a.createElement(Ke,{onClick:this.showMoreStories},"Show more stories")):null)}}]),n}(r.a.Component);function Ze(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  border-top: 1px lightgrey solid;\n  border-bottom: 1px lightgrey solid;\n\n  a.bookmark__link {\n    text-decoration: none;\n    color: black;\n    font-weight: bold;\n    transition: all 0.3s;\n    padding-top: 0.75em;\n  }\n\n  a.bookmark__link:hover {\n    color: #2a78f7;\n  }\n\n  p.bookmark__abstract {\n    font-size: 0.875em;\n    color: #666;\n  }\n\n  .remove {\n    margin-top: auto;\n    padding-bottom: 0.5em;\n    transition: color 0.3s;\n    color: #666;\n    cursor: pointer;\n  }\n\n  .remove:hover {\n    color: #f24624;\n  }\n\n  .remove .remove__icon {\n    font-size: 16px;\n  }\n\n  .remove span.remove__text {\n    padding-left: 0.5em;\n    font-size: 0.875em;\n  }\n"]);return Ze=function(){return e},e}function $e(){var e=Object(w.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 300px);\n  grid-gap: 1em;\n  justify-content: center;\n  margin: 1em auto;\n"]);return $e=function(){return e},e}var en=j.a.section($e()),nn=j.a.div(Ze()),tn=function(e){var n=e.windowWidth,t=e.bookmarks,a=e.handleRemoveBookmark,o=t.map(function(e){return r.a.createElement(nn,{key:e.url},r.a.createElement("a",{className:"bookmark__link",href:e.url},e.title),r.a.createElement("p",{className:"bookmark__abstract"},e.abstract),r.a.createElement("div",{className:"remove",onClick:function(){return a(e)}},r.a.createElement(x.a,{icon:P.w,size:"lg",className:"remove__icon"}),r.a.createElement("span",{className:"remove__text"},"Remove article")))});return r.a.createElement("div",null,r.a.createElement(ye,{windowWidth:n}),r.a.createElement("h2",{style:{textAlign:"center"}},"Bookmarks"),r.a.createElement(en,null,o))};function an(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 70vh;\n\n  span {\n    font-size: 5em;\n    margin: 0;\n    padding: 0;\n  }\n\n  p {\n    font-size: 1.5eml\n    margin: 0;\n    padding: 0;\n  }\n"]);return an=function(){return e},e}var rn=j.a.div(an()),on=function(){return r.a.createElement(rn,null,r.a.createElement("span",{role:"img","aria-label":"uncertain face"},"\ud83e\uddd0"),r.a.createElement("p",null,"This page is not found!"))},cn=function(e){function n(){var e,t;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(f.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={user:null,windowWidth:null,popularStories:[],movieReviews:[],nonfictionBooks:[],fictionBooks:[],bookmarks:[]},t.retrieveUserInfo=function(e){t.setState({user:e})},t.handleResize=function(){var e=window.innerWidth;t.setState(function(){return{windowWidth:e}})},t.fetchPopularStories=Object(u.a)(l.a.mark(function e(){var n,a,r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.nytimes.com/svc/mostpopular/v2/viewed/7.json?api-key=".concat("xRrXtfd4QhQmbwbp9eyBwOiDyLkzgJJE"),e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.next=9,r.results;case 9:o=e.sent,t.setState({popularStories:o,isLoading:!1});case 11:case"end":return e.stop()}},e)})),t.fetchMovieReviews=Object(u.a)(l.a.mark(function e(){var n,a,r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.nytimes.com/svc/movies/v2/reviews/picks.json?&api-key=".concat("xRrXtfd4QhQmbwbp9eyBwOiDyLkzgJJE"),e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.next=9,r.results;case 9:o=e.sent,t.setState({movieReviews:o,isLoading:!1});case 11:case"end":return e.stop()}},e)})),t.fetchNonfictionBooks=Object(u.a)(l.a.mark(function e(){var n,a,r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.nytimes.com/svc/books/v3/lists/current/hardcover-nonfiction.json?api-key=".concat("xRrXtfd4QhQmbwbp9eyBwOiDyLkzgJJE"),e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.next=9,r.results.books;case 9:o=e.sent,t.setState({nonfictionBooks:o,isLoading:!1});case 11:case"end":return e.stop()}},e)})),t.fetchFictionBooks=Object(u.a)(l.a.mark(function e(){var n,a,r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=".concat("xRrXtfd4QhQmbwbp9eyBwOiDyLkzgJJE"),e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.next=9,r.results.books;case 9:o=e.sent,t.setState({fictionBooks:o,isLoading:!1});case 11:case"end":return e.stop()}},e)})),t.handleBookmarkClick=function(e){var n={title:e.title||e.headline,abstract:e.abstract||e.summary_short,url:e.url||e.link.url};t.setState(function(e){var t=e.bookmarks,a=t.find(function(e){return e.url===n.url});return{bookmarks:t=a?t.filter(function(e){return e.url!==n.url}):[].concat(Object(c.a)(t),[n])}})},t.handleRemoveBookmark=function(e){t.setState(function(n){return{bookmarks:n.bookmarks.filter(function(n){return n.url!==e.url})}})},t.logout=Object(u.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.auth().signOut();case 2:t.setState({user:null});case 3:case"end":return e.stop()}},e)})),t}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("nf-bookmarks"),n=localStorage.getItem("nf-user");e&&this.setState({bookmarks:JSON.parse(e)}),n&&this.setState({user:JSON.parse(n)});var t=window.innerWidth;this.setState({windowWidth:t}),window.addEventListener("resize",this.handleResize),this.fetchPopularStories(),this.fetchMovieReviews(),this.fetchNonfictionBooks(),this.fetchFictionBooks()}},{key:"componentDidUpdate",value:function(){localStorage.setItem("nf-bookmarks",JSON.stringify(this.state.bookmarks))}},{key:"componentWillMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,null,r.a.createElement("div",null,r.a.createElement(ae,{bookmarks:this.state.bookmarks,user:this.state.user,logout:this.logout}),r.a.createElement(k.a,null,r.a.createElement(g.a,{exact:!0,path:"/login",render:function(n){return r.a.createElement(U,Object.assign({},n,{retrieveUserInfo:e.retrieveUserInfo,bookmarks:e.state.bookmarks}))}}),r.a.createElement(g.a,{exact:!0,path:"/",render:function(n){return r.a.createElement(Re,Object.assign({},n,{windowWidth:e.state.windowWidth,popularStories:e.state.popularStories,movieReviews:e.state.movieReviews,nonfictionBooks:e.state.nonfictionBooks,fictionBooks:e.state.fictionBooks,handleBookmarkClick:e.handleBookmarkClick,bookmarks:e.state.bookmarks}))}}),r.a.createElement(g.a,{path:"/topstories/:sectionId",render:function(n){return r.a.createElement(Ve,Object.assign({},n,{windowWidth:e.state.windowWidth,handleBookmarkClick:e.handleBookmarkClick,bookmarks:e.state.bookmarks}))}}),r.a.createElement(g.a,{exact:!0,path:"/bookmarks/",render:function(n){return r.a.createElement(tn,Object.assign({},n,{windowWidth:e.state.windowWidth,handleRemoveBookmark:e.handleRemoveBookmark,bookmarks:e.state.bookmarks}))}}),r.a.createElement(g.a,{component:on})),r.a.createElement(ie,null)))}}]),n}(r.a.Component);t(168);i.a.render(r.a.createElement(cn,null),document.querySelector("#root"))},88:function(e,n,t){e.exports=t(169)}},[[88,1,2]]]);
//# sourceMappingURL=main.21fb71e5.chunk.js.map